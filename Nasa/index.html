<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Air QMBA â€” Global Air Map</title>
<link rel="icon" href="logo.png">

<link rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<link rel="stylesheet"
  href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/>

<link rel="stylesheet" href="assets/css/main.css"/>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <img src="logo.png" alt="Air QMBA" style="height:34px"/>
      <div class="brand"><h2>Air QMBA</h2></div>
    </div>

    <div class="card">
      <div class="map-shell">
        <div id="map"></div>
      </div>

      <div class="controls">
        <div class="layer-control">
          <h4>Layers</h4>
          <label><input type="checkbox" id="pm25" checked> PM2.5</label>
          <label><input type="checkbox" id="no2" checked> NOâ‚‚</label>
          <label><input type="checkbox" id="o3" checked> Oâ‚ƒ</label>
          <label><input type="checkbox" id="ch2o"> CHâ‚‚O</label>
          <label><input type="checkbox" id="temp"> Temperature</label>
          <label><input type="checkbox" id="humidity"> Humidity</label>
          <label><input type="checkbox" id="wind"> Wind</label>
        </div>
        
        <div class="timeline-control">
          <h4>Timeline</h4>
          <input type="range" id="timeline" min="0" max="24" value="0">
          <span id="timeline-label">Now</span>
        </div>
        
        <div class="data-source">
          <h4>Data Source</h4>
          <label><input type="radio" name="source" value="tempo" checked> TEMPO (NASA)</label>
          <label><input type="radio" name="source" value="ground"> Ground Sensors</label>
          <label><input type="radio" name="source" value="combined"> Combined</label>
        </div>
      </div>

      <div class="legend">
        <div class="panel">
          <span class="key"><i class="k" style="background:var(--good)"></i>Good (0-50)</span>
          <span class="key"><i class="k" style="background:var(--moderate)"></i>Moderate (51-100)</span>
          <span class="key"><i class="k" style="background:var(--usg)"></i>Unhealthy for Sensitive (101-150)</span>
          <span class="key"><i class="k" style="background:var(--unhealthy)"></i>Unhealthy (151-200)</span>
          <span class="key"><i class="k" style="background:var(--very)"></i>Very Unhealthy (201-300)</span>
          <span class="key"><i class="k" style="background:var(--hazard)"></i>Hazardous (301+)</span>
        </div>
      </div>

      <div class="dock">
        <div class="dock-in">
          <button class="btn accent" id="btn-map" title="Interactive Map">
            <img class="ico" src="image 8 (1).png" alt="Map">
          </button>
          <button class="btn" id="btn-dashboard" title="Local Dashboard">
            <img class="ico" src="image 7.png" alt="Dashboard">
          </button>
          <button class="btn" id="btn-ai" title="AI Assistant">
            <img class="ico" src="image-removebg-preview 2.png" alt="AI">
          </button>
          <button class="btn" id="btn-history" title="History">
            <span class="ico-text">ðŸ“Š</span>
          </button>
          <button class="btn" id="btn-community" title="Community">
            <span class="ico-text">ðŸ‘¥</span>
          </button>
        </div>
      </div>
    </div>
  </div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<script>
  // Configure proxies to avoid CORS
  window.OPENAQ_PROXY = window.OPENAQ_PROXY || 'http://localhost:3000/openaq';
  window.TEMPO_API_URL = window.TEMPO_API_URL || 'http://localhost:3000/s5p';
  window.AIRNOW_URL = window.AIRNOW_URL || 'http://localhost:3000/airnow';
  console.log('Config:', { OPENAQ_PROXY: window.OPENAQ_PROXY, TEMPO_API_URL: window.TEMPO_API_URL, AIRNOW_URL: window.AIRNOW_URL });
</script>
<script src="assets/js/main.js"></script>
</body>
</html>